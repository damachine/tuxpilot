import"../chunks/Bzak7iHL.js";import{i as Be,j as Re,n as _,k as X,o as He,G as De,m as k,t as o,z as r,v as Y,w as h,x as Ie,y as s,A as d,D as a,C as qe,B as Z}from"../chunks/JcADrZUJ.js";import{i as Le}from"../chunks/DhzAir_V.js";import{e as Me,i as Je,a as ee}from"../chunks/Cx5Sl4Jo.js";import{b as T,r as f}from"../chunks/CWnEpGok.js";import{b as C,a as je}from"../chunks/paLRhBzj.js";async function Ne(S,v,l,p,n,u){s(v,!0),s(l,"Saving configuration..."),s(p,"info");try{const b=await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:"ai",updates:{provider:n.ai.provider,model:n.ai.model,temperature:n.ai.temperature,max_tokens:n.ai.max_tokens},validate_only:!1})});if(!b.ok)throw new Error(`Failed to save AI configuration: ${b.status}`);const t=await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:"execution",updates:{mode:n.execution.mode,require_confirmation:n.execution.require_confirmation,timeout:n.execution.timeout},validate_only:!1})});if(!t.ok)throw new Error(`Failed to save execution configuration: ${t.status}`);const x=await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:"web",updates:{port:n.web.port,bind_address:n.web.bind_address,ssl_enabled:n.web.ssl_enabled},validate_only:!1})});if(!x.ok)throw new Error(`Failed to save web configuration: ${x.status}`);const y=await x.json();s(l,"Configuration saved successfully"),s(p,"success"),y.restart_required?u("warning","Configuration saved. Server restart required for web settings to take effect."):u("success","Configuration saved successfully")}catch(b){console.error("Error saving configuration:",b),s(l,"Failed to save configuration"),s(p,"error"),u("error",`Failed to save configuration: ${b instanceof Error?b.message:String(b)}`)}finally{s(v,!1)}}var Ue=k('<div class="w-4 h-4 border-2 border-transparent border-t-current rounded-full animate-spin"></div>'),ze=(S,v,l)=>v(d(l).id),Qe=k('<div><span> </span> <button class="text-gray-500 hover:text-gray-700 dark:text-chatgpt-text-muted dark:hover:text-chatgpt-text-secondary">√ó</button></div>'),We=k('<div class="space-y-3 mb-6"></div>'),Ke=k("<option> </option>"),Ve=k('<div class="h-full overflow-auto p-6 bg-white dark:bg-chatgpt-bg-primary"><div class="max-w-4xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-semibold text-gray-900 dark:text-chatgpt-text-primary mb-2">‚öôÔ∏è Settings</h1> <p class="text-gray-600 dark:text-chatgpt-text-secondary">Manage your TuxPilot system configuration</p></div> <div class="mb-6 flex items-center justify-between"><div class="flex items-center gap-3"><div><!> <span> </span></div></div> <div class="flex gap-3"><button class="flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 dark:bg-chatgpt-bg-tertiary dark:hover:bg-chatgpt-border dark:disabled:bg-chatgpt-border text-white rounded-lg transition-colors disabled:cursor-not-allowed">üîÑ Reload</button> <button class="flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 dark:bg-green-700 dark:hover:bg-green-600 dark:disabled:bg-chatgpt-border text-white rounded-lg transition-colors disabled:cursor-not-allowed">üíæ Save Changes</button></div></div> <!> <div class="space-y-8"><div class="bg-white dark:bg-chatgpt-bg-secondary rounded-lg border border-gray-200 dark:border-chatgpt-border p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-chatgpt-text-primary mb-6">ü§ñ AI Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label for="ai-provider" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Provider</label> <select id="ai-provider" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Ollama</option><option>OpenAI</option><option>Anthropic</option></select></div> <div class="space-y-2"><label for="ai-model" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Model</label> <select id="ai-model" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"></select></div> <div class="space-y-2"><label for="ai-temperature" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Temperature</label> <input id="ai-temperature" type="number" min="0" max="2" step="0.1" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div class="space-y-2"><label for="ai-max-tokens" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Max Tokens</label> <input id="ai-max-tokens" type="number" min="1" max="8192" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div></div></div> <div class="bg-white dark:bg-chatgpt-bg-secondary rounded-lg border border-gray-200 dark:border-chatgpt-border p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-chatgpt-text-primary mb-6">‚öôÔ∏è Execution Settings</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="space-y-2"><label for="execution-mode" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Mode</label> <select id="execution-mode" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Supervised</option><option>Semi-Automatic</option><option>Autonomous</option><option>Read-Only</option></select></div> <div class="space-y-2"><label for="execution-confirmation" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Require Confirmation</label> <div class="flex items-center"><input id="execution-confirmation" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 dark:bg-chatgpt-bg-tertiary border-gray-300 dark:border-chatgpt-border rounded focus:ring-blue-500 focus:ring-2"/> <label for="execution-confirmation" class="ml-2 text-sm text-gray-700 dark:text-chatgpt-text-secondary">Enable confirmation prompts</label></div></div> <div class="space-y-2"><label for="execution-timeout" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Timeout (seconds)</label> <input id="execution-timeout" type="number" min="1" max="300" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div></div></div> <div class="bg-white dark:bg-chatgpt-bg-secondary rounded-lg border border-gray-200 dark:border-chatgpt-border p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-chatgpt-text-primary mb-6">üåê Web Server Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="space-y-2"><label for="web-port" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Port</label> <input id="web-port" type="number" min="1" max="65535" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <div class="space-y-2"><label for="web-bind-address" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">Bind Address</label> <select id="web-bind-address" class="w-full px-3 py-2 border border-gray-300 dark:border-chatgpt-border rounded-lg bg-white dark:bg-chatgpt-bg-tertiary text-gray-900 dark:text-chatgpt-text-primary focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>127.0.0.1 (localhost)</option><option>0.0.0.0 (all interfaces)</option></select></div> <div class="space-y-2"><label for="web-ssl-enabled" class="block text-sm font-medium text-gray-700 dark:text-chatgpt-text-secondary">SSL Enabled</label> <div class="flex items-center"><input id="web-ssl-enabled" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 dark:bg-chatgpt-bg-tertiary border-gray-300 dark:border-chatgpt-border rounded focus:ring-blue-500 focus:ring-2"/> <label for="web-ssl-enabled" class="ml-2 text-sm text-gray-700 dark:text-chatgpt-text-secondary">Enable HTTPS/SSL</label></div></div></div></div></div></div></div>');function at(S,v){Re(v,!0);let l=_(!1),p=_("Loading configuration..."),n=_("info"),u=_(X([])),b=_(X([])),t=X({ai:{provider:"ollama",model:"llama3.2",temperature:.7,max_tokens:2048,api_key_configured:!1},execution:{mode:"supervised",require_confirmation:!0,timeout:30},web:{port:8082,bind_address:"127.0.0.1",ssl_enabled:!1}});He(()=>{x(),re()});async function x(){s(l,!0),s(p,"Loading configuration..."),s(n,"info");try{const e=await fetch("/api/config",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const i=await e.json();t.ai.provider=i.ai.provider,t.ai.model=i.ai.model,t.ai.temperature=i.ai.temperature,t.ai.max_tokens=i.ai.max_tokens,t.ai.api_key_configured=i.ai.api_key_configured||!1,t.execution.mode=i.execution.mode,t.execution.require_confirmation=i.execution.require_confirmation,t.execution.timeout=i.execution.timeout,t.web.port=i.web.port,t.web.bind_address=i.web.bind_address,t.web.ssl_enabled=i.web.ssl_enabled,s(p,"Configuration loaded successfully"),s(n,"success"),y("success","Configuration loaded successfully")}catch(e){console.error("Error loading configuration:",e),s(p,"Failed to load configuration"),s(n,"error"),y("error",`Failed to load configuration: ${e instanceof Error?e.message:String(e)}`)}finally{s(l,!1)}}function y(e,i){const c={id:Date.now().toString(),type:e,message:i};s(u,[...d(u),c],!0),setTimeout(()=>{te(c.id)},5e3)}function te(e){s(u,d(u).filter(i=>i.id!==e),!0)}async function re(){try{const e=ae(t.ai.provider);s(b,e,!0)}catch(e){console.error("Error loading available models:",e),s(b,ae(t.ai.provider),!0)}}function ae(e){switch(e){case"ollama":return[{id:"gemma3:latest",name:"Gemma 3 (Latest)"},{id:"llama3.1:8b",name:"Llama 3.1 8B"},{id:"llama3.1:70b",name:"Llama 3.1 70B"},{id:"codellama",name:"Code Llama"},{id:"mistral",name:"Mistral 7B"},{id:"mixtral:8x7b",name:"Mixtral 8x7B"},{id:"qwen2.5",name:"Qwen 2.5"},{id:"gemma2",name:"Gemma 2"}];case"openai":return[{id:"gpt-4o",name:"GPT-4o (Latest)"},{id:"gpt-4o-mini",name:"GPT-4o Mini"},{id:"gpt-4-turbo",name:"GPT-4 Turbo"},{id:"gpt-4",name:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo"}];case"anthropic":return[{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet (Latest)"},{id:"claude-3-5-haiku-20241022",name:"Claude 3.5 Haiku"},{id:"claude-3-opus-20240229",name:"Claude 3 Opus"},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet"},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku"}];default:return[{id:t.ai.model,name:t.ai.model}]}}De(()=>{re()});var E=Ve(),oe=o(E),P=r(o(oe),2),q=o(P),L=o(q),ie=o(L);{var Ae=e=>{var i=Ue();h(e,i)};Le(ie,e=>{d(l)&&e(Ae)})}var de=r(ie,2),Ge=o(de,!0);a(de),a(L),a(q);var se=r(q,2),M=o(se);M.__click=x;var ne=r(M,2);ne.__click=[Ne,l,p,n,t,y],a(se),a(P);var le=r(P,2);{var $e=e=>{var i=We();Me(i,21,()=>d(u),c=>c.id,(c,g)=>{var m=Qe(),w=o(m),Fe=o(w,!0);a(w);var Oe=r(w,2);Oe.__click=[ze,te,g],a(m),Y(()=>{ee(m,1,`flex items-center justify-between p-4 rounded-lg ${d(g).type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":d(g).type==="error"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":d(g).type==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"}`),ee(w,1,`text-sm ${d(g).type==="success"?"text-green-800 dark:text-green-200":d(g).type==="error"?"text-red-800 dark:text-red-200":d(g).type==="warning"?"text-yellow-800 dark:text-yellow-200":"text-blue-800 dark:text-blue-200"}`),Z(Fe,d(g).message)}),h(c,m)}),a(i),h(e,i)};Le(le,e=>{d(u).length>0&&e($e)})}var ce=r(le,2),j=o(ce),be=r(o(j),2),A=o(be),G=r(o(A),2),$=o(G);$.value=$.__value="ollama";var F=r($);F.value=F.__value="openai";var ue=r(F);ue.value=ue.__value="anthropic",a(G),a(A);var O=r(A,2),B=r(o(O),2);Me(B,21,()=>d(b),Je,(e,i)=>{var c=Ke(),g=o(c,!0);a(c);var m={};Y(()=>{Z(g,d(i).name),m!==(m=d(i).id)&&(c.value=(c.__value=d(i).id)??"")}),h(e,c)}),a(B),a(O);var R=r(O,2),ge=r(o(R),2);f(ge),a(R);var pe=r(R,2),me=r(o(pe),2);f(me),a(pe),a(be),a(j);var H=r(j,2),ve=r(o(H),2),D=o(ve),I=r(o(D),2),J=o(I);J.value=J.__value="supervised";var N=r(J);N.value=N.__value="semi-auto";var U=r(N);U.value=U.__value="autonomous";var xe=r(U);xe.value=xe.__value="read-only",a(I),a(D);var z=r(D,2),fe=r(o(z),2),ye=o(fe);f(ye),qe(2),a(fe),a(z);var _e=r(z,2),he=r(o(_e),2);f(he),a(_e),a(ve),a(H);var ke=r(H,2),we=r(o(ke),2),Q=o(we),Te=r(o(Q),2);f(Te),a(Q);var W=r(Q,2),K=r(o(W),2),V=o(K);V.value=V.__value="127.0.0.1";var Ce=r(V);Ce.value=Ce.__value="0.0.0.0",a(K),a(W);var Se=r(W,2),Ee=r(o(Se),2),Pe=o(Ee);f(Pe),qe(2),a(Ee),a(Se),a(we),a(ke),a(ce),a(oe),a(E),Y(()=>{ee(L,1,`px-3 py-1 rounded-full text-sm ${d(n)==="success"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":d(n)==="error"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":d(n)==="warning"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200"}`),Z(Ge,d(p)),M.disabled=d(l),ne.disabled=d(l)}),T(G,()=>t.ai.provider,e=>t.ai.provider=e),T(B,()=>t.ai.model,e=>t.ai.model=e),C(ge,()=>t.ai.temperature,e=>t.ai.temperature=e),C(me,()=>t.ai.max_tokens,e=>t.ai.max_tokens=e),T(I,()=>t.execution.mode,e=>t.execution.mode=e),je(ye,()=>t.execution.require_confirmation,e=>t.execution.require_confirmation=e),C(he,()=>t.execution.timeout,e=>t.execution.timeout=e),C(Te,()=>t.web.port,e=>t.web.port=e),T(K,()=>t.web.bind_address,e=>t.web.bind_address=e),je(Pe,()=>t.web.ssl_enabled,e=>t.web.ssl_enabled=e),h(S,E),Ie()}Be(["click"]);export{at as component};
